<!DOCTYPE html>
  <html lang="en">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Rock Paper Scissors</title>
    </head>
    <body>
      <p>Rock Paper Scissors</p>
      <button onclick="
        pickComputerMove();  
        compareMoves('rock');    
      ">Rock</button>

      <button onclick="
         pickComputerMove();
         compareMoves('paper');
      ">Paper</button>

      <button onclick="
        pickComputerMove();
        compareMoves('scissors');
      ">Scissors</button>
      
      <button onclick="
        score.wins=0; //wins, losses and ties still have to be assigned 0 because the previous scores are still in the RAM and will be displayed if page is not refreshed
        score.losses=0;
        score.ties=0;
        localStorage.removeItem('score'); //This is to delete saved score on local storage
      ">Reset Score</button>
      <script>

        let score=JSON.parse(localStorage.getItem('score')); 

        if(!score){//Checks if score object is non-existent and assigns zeros to its keys if it is non-existent
          score={
            wins:0,
            losses:0,
            ties:0
          }
        }
        
        function pickComputerMove(){
          const randomNumber=Math.random();
          computerMove='';
          if(randomNumber>=0 && randomNumber < 1/3){
            computerMove='rock';
          }else if(randomNumber>=1/3 && randomNumber < 2/3){
            computerMove='paper';
          }else{
            computerMove='scissors';
          }
        }

        function compareMoves(playerMove){
          result='';
          if(playerMove==='scissors'){
           if(computerMove=='rock'){
            result='You lose';
           }else if(computerMove=='paper'){
            result='You win';
           }else if(computerMove=='scissors'){
            result='It is a tie';
           }
          }
          if(playerMove==='paper'){
            if(computerMove=='rock'){
             result='You win';
            }else if(computerMove=='paper'){
             result='It is a tie';
            }else if(computerMove=='scissors'){
             result='You lose';
            }
          }
          if(playerMove==='rock'){
            if(computerMove=='rock'){
             result='It is a tie';
            }else if(computerMove=='paper'){
             result='You lose';
            }else if(computerMove=='scissors'){
             result='You win';
            }
          }
          if(result==='You win'){
            score.wins++;
          }else if(result==='You lose'){
            score.losses++;
          }else if(result==='It is a tie'){
            score.ties++;
          }
          
          localStorage.setItem('score', JSON.stringify(score));

          alert(`You picked ${playerMove}. Computer picked ${computerMove}. ${result}. 
Wins: ${score.wins}, Losses: ${score.losses}, Ties: ${score.ties}`);
        }

      </script>
    </body>
  </html>